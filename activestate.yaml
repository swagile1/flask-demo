project: https://platform.activestate.com/shanew/flask-demo?branch=main&commitID=5494a218-6a46-4303-9ce7-e0d63feae89a
constants:
  - name: FLASK_APP
    value: app
  - name: FLASK_ENV
    value: development

scripts:
  - name: startApp
    language: bash
    value: |
      flask run &
      sleep 2
      python3 -m webbrowser -t "http://127.0.0.1:5000/"
  - name: prepDB
    language: bash
    value: sqlite3 db/database.db < db/schema.sql

events:
  # This is the ACTIVATE event, it will run whenever a new virtual environment is created (eg. by running `state activate`)
  # On Linux and macOS this will be ran as part of your shell's rc file, so you can use it to set up aliases, functions, environment variables, etc.
  - name: ACTIVATE
    language: bash
    value: sqlite3 db/database.db < db/schema.sql
